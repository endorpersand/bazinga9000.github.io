<html>
	<head>
		<link rel="stylesheet" type="text/css" href="generic.css">
		<script>

function getArgamValue(intString) {
	let x = BigInt(intString)
	let digits = [];
	do {
	  digits.unshift(x % 60n);
	  x -= x % 60n;
	  x /= 60n;
	} while (x != 0n);
	return digits;
}

let digit_names = [
  "Zero","One","Two","Three","Four","Five","Six","Seven","Eight",
  "Nine","Dess","Ell","Zen","Thise","Zeff","Trick","Tess","Zote","Dine","Ax","Score",
  "Tress","Dell","Flore","Cadex","Quint","Dithe","Trine","Caven","Neve","Kinex",
  "Sode","Twive","Trell","Dote","Kineff","Exent","Mack","Dax","Trithe","Kinoct",
  "Lume","Exeff","Sill","Cadell","Kinove","Diore","Foss","Exoct","Effent","Kiness",
  "Trizote","Cadithe","Sull","Exove","Kinell","Sevoct","Triax","Deve","Clore"
]
let suffixes = [
  "","ta","un","zand","myr","lak"
]

function parse_suffix(name, suffix) {
  if (suffix == "") return name;
  let consonants = "bcdfghjklmnpqrstvwxyz";
  let vowels = "aeiou";
  if (name[name.length-1] == name[name.length-2]) {
    name = name.slice(0,-1);
  }

  return name + suffix;
}

function convert() {
	let value = getArgamValue(document.getElementById('input').value)
	let isNegative = false;
	if (value[0] < 0) {
		isNegative = true;
		for (let i = 0; i < value.length; i++) {
			value[i] *= -1n;
		}
	}
	let out = document.getElementById('output')
	let outName = document.getElementById('output-name')
	if (typeof(value) == "undefined") {
		out.innerText = ""
		outName.innerText = "Error: Invalid Input"
		return;
	}

	let argamString = "";
	if (isNegative) {
		argamString = "-";
	}
	for (const v of value) {
		argamString += "0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"[v]
	}

	out.innerText = argamString

	let nameString = "";
	if (isNegative) {
		nameString += "Negative "
	}
	for (let i = 0; i < value.length; i++) {
		let d = value[i];
		let suffix_value = value.length - i - 1
		suffix = suffixes[suffix_value];
		if (typeof(suffix) != "undefined") {
			nameString += parse_suffix(digit_names[d],suffix) + " ";
		} else {
			nameString += digit_names[d] + "(" + suffix_value + ") ";
		}
	}
	nameString = nameString.slice(0, -1);
	outName.innerText = nameString;
}


		</script>
		<title>Sexagesimal Clock</title>
	</head>
	<body>
		<h1>
			<center><a href="index"><img src="koch.png" height=50px width=auto style='vertical-align: middle'></img></a></center>
			<center><span>Sexagesimal Argam Converter</span></center>
		</h1>

		<center>
			<input type="text" id="input" onInput="convert()">Number to convert to Argam</input>
			<br>
			<span style="font-size: 72; font-family: argam" id="output"></span>
			<br>
			<span style="font-size: 15;" id="output-name"></span>
		</center>


		<center>
			<h5>
				Arqam digits created by <a class="hyperlink" href="http://www.vincico.com/arqam/digits/argam-now.html">Michael Thomas De Vlieger</a>
			</h5>
		</center>
	</body>
</html>
